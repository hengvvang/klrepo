# Linux ç³»ç»Ÿç®¡ç†

## ğŸ“‹ æ¨¡å—æ¦‚è¿°

ç³»ç»Ÿç®¡ç†æ˜¯Linuxè¿ç»´çš„æ ¸å¿ƒæŠ€èƒ½ï¼Œæ¶µç›–ç”¨æˆ·ç®¡ç†ã€æœåŠ¡ç®¡ç†ã€è½¯ä»¶åŒ…ç®¡ç†ã€ç³»ç»Ÿç›‘æ§ã€å¤‡ä»½æ¢å¤ç­‰å…³é”®é¢†åŸŸã€‚æœ¬æ¨¡å—åŸºäºä¼ä¸šçº§Linuxç³»ç»Ÿç®¡ç†æœ€ä½³å®è·µç¼–å†™ã€‚

## ğŸ“š å­¦ä¹ å†…å®¹

### ğŸ‘¥ [ç”¨æˆ·ä¸ç»„ç®¡ç†](user-management.md)
- **ç”¨æˆ·è´¦æˆ·ç®¡ç†** - åˆ›å»ºã€ä¿®æ”¹ã€åˆ é™¤ç”¨æˆ·è´¦æˆ·
- **ç»„ç®¡ç†** - ç”¨æˆ·ç»„çš„åˆ›å»ºå’Œæƒé™åˆ†é…
- **æƒé™ç³»ç»Ÿ** - æ–‡ä»¶æƒé™ã€ç‰¹æ®Šæƒé™ã€ACL
- **sudoé…ç½®** - æƒé™æå‡å’Œå®‰å…¨ç­–ç•¥

### âš™ï¸ [æœåŠ¡ä¸è¿›ç¨‹ç®¡ç†](service-management.md)
- **Systemdç®¡ç†** - ç°ä»£initç³»ç»Ÿå’ŒæœåŠ¡ç®¡ç†
- **è¿›ç¨‹ç®¡ç†** - è¿›ç¨‹ç›‘æ§ã€è°ƒåº¦ã€ä¿¡å·å¤„ç†
- **ä»»åŠ¡è°ƒåº¦** - Cronã€Atã€Systemd Timer
- **èµ„æºæ§åˆ¶** - Cgroupsèµ„æºé™åˆ¶å’Œæ§åˆ¶

### ğŸ“¦ [è½¯ä»¶åŒ…ç®¡ç†](package-management.md)
- **APTç³»ç»Ÿ** - Debian/UbuntuåŒ…ç®¡ç†
- **YUM/DNFç³»ç»Ÿ** - Red Hat/FedoraåŒ…ç®¡ç†
- **æºç å®‰è£…** - ç¼–è¯‘å®‰è£…å’Œä¾èµ–ç®¡ç†
- **å®¹å™¨åŒ–éƒ¨ç½²** - Dockerå’ŒPodmanåº”ç”¨éƒ¨ç½²

### ğŸ“Š [ç³»ç»Ÿç›‘æ§](system-monitoring.md)
- **æ€§èƒ½ç›‘æ§** - CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œç›‘æ§
- **æ—¥å¿—ç®¡ç†** - Systemd Journalã€Rsyslogã€æ—¥å¿—è½®è½¬
- **ç›‘æ§å·¥å…·** - topã€htopã€iotopã€nethogsç­‰
- **æŠ¥è­¦ç³»ç»Ÿ** - é˜ˆå€¼ç›‘æ§å’Œè‡ªåŠ¨æŠ¥è­¦

### ğŸ”„ [å¤‡ä»½ä¸æ¢å¤](backup-recovery.md)
- **å¤‡ä»½ç­–ç•¥** - å…¨é‡å¤‡ä»½ã€å¢é‡å¤‡ä»½ã€å·®å¼‚å¤‡ä»½
- **å¤‡ä»½å·¥å…·** - rsyncã€tarã€dump/restore
- **ç³»ç»Ÿæ¢å¤** - å¯åŠ¨ä¿®å¤ã€æ–‡ä»¶ç³»ç»Ÿæ¢å¤
- **ç¾éš¾æ¢å¤** - ç³»ç»Ÿé‡å»ºå’Œæ•°æ®æ¢å¤

### ğŸ”§ [ç³»ç»Ÿé…ç½®ç®¡ç†](configuration-management.md)
- **é…ç½®æ–‡ä»¶ç®¡ç†** - é‡è¦é…ç½®æ–‡ä»¶å’Œæ¨¡æ¿
- **ç¯å¢ƒé…ç½®** - ç³»ç»Ÿç¯å¢ƒå˜é‡å’Œshellé…ç½®
- **è‡ªåŠ¨åŒ–é…ç½®** - Ansibleå’Œé…ç½®ç®¡ç†å·¥å…·
- **ç‰ˆæœ¬æ§åˆ¶** - é…ç½®æ–‡ä»¶çš„ç‰ˆæœ¬ç®¡ç†

## ğŸ¯ å­¦ä¹ è·¯å¾„

### ğŸ”° åŸºç¡€ç®¡ç†å‘˜ (2-3å‘¨)
```mermaid
graph LR
    A[ç”¨æˆ·ç®¡ç†] --> B[æƒé™ç³»ç»Ÿ]
    B --> C[åŸºæœ¬æœåŠ¡]
    C --> D[è½¯ä»¶å®‰è£…]
    D --> E[ç³»ç»Ÿç›‘æ§]
```

1. **ç”¨æˆ·ä¸æƒé™** - æŒæ¡ç”¨æˆ·ç®¡ç†å’Œæƒé™æ§åˆ¶
2. **åŸºæœ¬æœåŠ¡** - ç†è§£systemdå’Œå¸¸ç”¨æœåŠ¡
3. **è½¯ä»¶ç®¡ç†** - ç†Ÿç»ƒä½¿ç”¨åŒ…ç®¡ç†å™¨
4. **ç›‘æ§åŸºç¡€** - ä½¿ç”¨åŸºæœ¬ç›‘æ§å‘½ä»¤

### ğŸ”¸ ä¸­çº§ç®¡ç†å‘˜ (1-2ä¸ªæœˆ)
```mermaid
graph LR
    A[é«˜çº§æœåŠ¡] --> B[æ€§èƒ½è°ƒä¼˜]
    B --> C[æ—¥å¿—åˆ†æ]
    C --> D[å¤‡ä»½ç­–ç•¥]
    D --> E[å®‰å…¨é…ç½®]
```

1. **é«˜çº§æœåŠ¡ç®¡ç†** - å¤æ‚æœåŠ¡é…ç½®å’Œæ•…éšœæ’é™¤
2. **æ€§èƒ½è°ƒä¼˜** - ç³»ç»Ÿæ€§èƒ½åˆ†æå’Œä¼˜åŒ–
3. **æ—¥å¿—ç®¡ç†** - é›†ä¸­æ—¥å¿—å’Œåˆ†æ
4. **å¤‡ä»½æ¢å¤** - å®Œæ•´çš„æ•°æ®ä¿æŠ¤ç­–ç•¥

### ğŸ”º é«˜çº§ç®¡ç†å‘˜ (æŒç»­å­¦ä¹ )
```mermaid
graph LR
    A[è‡ªåŠ¨åŒ–è¿ç»´] --> B[ç›‘æ§å‘Šè­¦]
    B --> C[å®¹å™¨ç®¡ç†]
    C --> D[é›†ç¾¤ç®¡ç†]
    D --> E[DevOpsé›†æˆ]
```

1. **è‡ªåŠ¨åŒ–è¿ç»´** - ä½¿ç”¨Ansibleç­‰å·¥å…·
2. **ç›‘æ§å‘Šè­¦** - ä¼ä¸šçº§ç›‘æ§ç³»ç»Ÿ
3. **å®¹å™¨åŒ–** - Dockerå’ŒKubernetesç®¡ç†
4. **DevOps** - CI/CDå’ŒåŸºç¡€è®¾æ–½å³ä»£ç 

## ğŸ› ï¸ æ ¸å¿ƒå·¥å…·å’Œå‘½ä»¤

### ç”¨æˆ·ç®¡ç†å·¥å…·
```bash
# ç”¨æˆ·ç®¡ç†
useradd         # åˆ›å»ºç”¨æˆ·
usermod         # ä¿®æ”¹ç”¨æˆ·
userdel         # åˆ é™¤ç”¨æˆ·
passwd          # ä¿®æ”¹å¯†ç 

# ç»„ç®¡ç†
groupadd        # åˆ›å»ºç»„
groupmod        # ä¿®æ”¹ç»„
groupdel        # åˆ é™¤ç»„
gpasswd         # ç»„å¯†ç ç®¡ç†

# æƒé™æŸ¥çœ‹
id              # æŸ¥çœ‹ç”¨æˆ·èº«ä»½
groups          # æŸ¥çœ‹ç”¨æˆ·ç»„
getent          # æŸ¥çœ‹ç”¨æˆ·æ•°æ®åº“
```

### æœåŠ¡ç®¡ç†å·¥å…·
```bash
# Systemdç®¡ç†
systemctl       # æœåŠ¡æ§åˆ¶
journalctl      # æ—¥å¿—æŸ¥çœ‹
systemd-analyze # å¯åŠ¨åˆ†æ
loginctl        # ä¼šè¯ç®¡ç†

# è¿›ç¨‹ç®¡ç†
ps              # è¿›ç¨‹æŸ¥çœ‹
pgrep           # è¿›ç¨‹æŸ¥æ‰¾
pkill           # è¿›ç¨‹ç»ˆæ­¢
jobs            # ä»»åŠ¡ç®¡ç†
```

### ç³»ç»Ÿç›‘æ§å·¥å…·
```bash
# æ€§èƒ½ç›‘æ§
top             # å®æ—¶è¿›ç¨‹ç›‘æ§
htop            # å¢å¼ºç‰ˆtop
iotop           # IOç›‘æ§
nload           # ç½‘ç»œæµé‡ç›‘æ§

# ç³»ç»Ÿä¿¡æ¯
uname           # ç³»ç»Ÿä¿¡æ¯
uptime          # è¿è¡Œæ—¶é—´
df              # ç£ç›˜ä½¿ç”¨
free            # å†…å­˜ä½¿ç”¨
```

## ğŸ“‹ ç®¡ç†æ£€æŸ¥æ¸…å•

### æ—¥å¸¸ç»´æŠ¤ä»»åŠ¡
- [ ] æ£€æŸ¥ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
- [ ] å®¡æŸ¥ç³»ç»Ÿæ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯
- [ ] æ›´æ–°è½¯ä»¶åŒ…å’Œå®‰å…¨è¡¥ä¸
- [ ] éªŒè¯å¤‡ä»½ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
- [ ] ç›‘æ§æœåŠ¡è¿è¡ŒçŠ¶æ€
- [ ] æ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ
- [ ] å®¡æŸ¥ç”¨æˆ·ç™»å½•å’Œæƒé™
- [ ] æ¸…ç†ä¸´æ—¶æ–‡ä»¶å’Œæ—¥å¿—

### å‘¨æœŸæ€§ä»»åŠ¡
- [ ] ç³»ç»Ÿæ€§èƒ½åŸºçº¿æµ‹è¯•
- [ ] å¤‡ä»½æ•°æ®å®Œæ•´æ€§éªŒè¯
- [ ] å®‰å…¨è¡¥ä¸å’Œæ›´æ–°è§„åˆ’
- [ ] ç”¨æˆ·æƒé™å®¡è®¡
- [ ] æœåŠ¡é…ç½®å¤‡ä»½
- [ ] ç›‘æ§é˜ˆå€¼è°ƒæ•´
- [ ] å®¹é‡è§„åˆ’è¯„ä¼°
- [ ] æ–‡æ¡£æ›´æ–°ç»´æŠ¤

### åº”æ€¥å“åº”å‡†å¤‡
- [ ] ç³»ç»Ÿæ•…éšœåº”æ€¥é¢„æ¡ˆ
- [ ] æ•°æ®æ¢å¤ç¨‹åºæµ‹è¯•
- [ ] è”ç³»äººå’Œå‡çº§ç¨‹åº
- [ ] å¤‡ç”¨ç³»ç»Ÿå’Œç¯å¢ƒ
- [ ] å…³é”®é…ç½®æ–‡ä»¶å¤‡ä»½
- [ ] ç›‘æ§å‘Šè­¦é…ç½®
- [ ] æ—¥å¿—åˆ†æå·¥å…·
- [ ] æ€§èƒ½åŸºçº¿æ•°æ®

## ğŸ”§ ä¼ä¸šçº§æœ€ä½³å®è·µ

### 1. ç”¨æˆ·ç®¡ç†ç­–ç•¥
```bash
# ç”¨æˆ·ç­–ç•¥é…ç½®
cat > /etc/login.defs << 'EOF'
# å¯†ç æœ‰æ•ˆæœŸ
PASS_MAX_DAYS   90
PASS_MIN_DAYS   1
PASS_WARN_AGE   7

# ç”¨æˆ·IDèŒƒå›´
UID_MIN         1000
UID_MAX         60000
GID_MIN         1000
GID_MAX         60000
EOF
```

### 2. æœåŠ¡ç®¡ç†è§„èŒƒ
```bash
# æœåŠ¡æ¨¡æ¿ç¤ºä¾‹
cat > /etc/systemd/system/myapp.service << 'EOF'
[Unit]
Description=My Application Service
After=network.target

[Service]
Type=simple
User=myapp
Group=myapp
ExecStart=/opt/myapp/bin/myapp
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF
```

### 3. ç›‘æ§é…ç½®æ ‡å‡†
```bash
# ç³»ç»Ÿç›‘æ§è„šæœ¬
cat > /usr/local/bin/system-check.sh << 'EOF'
#!/bin/bash

# æ£€æŸ¥ç³»ç»Ÿè´Ÿè½½
load=$(uptime | awk '{print $12}' | cut -d, -f1)
if (( $(echo "$load > 5.0" | bc -l) )); then
    echo "HIGH LOAD: $load" | logger -t system-monitor
fi

# æ£€æŸ¥ç£ç›˜ä½¿ç”¨
df -h | awk '$5 > 85 {print "DISK FULL: " $1 " " $5}' | logger -t system-monitor

# æ£€æŸ¥å†…å­˜ä½¿ç”¨
mem_usage=$(free | grep Mem | awk '{printf "%.0f", $3/$2 * 100.0}')
if [ $mem_usage -gt 90 ]; then
    echo "HIGH MEMORY: ${mem_usage}%" | logger -t system-monitor
fi
EOF

chmod +x /usr/local/bin/system-check.sh
```

## ğŸ“Š ç³»ç»Ÿç®¡ç†æŒ‡æ ‡

### å…³é”®æ€§èƒ½æŒ‡æ ‡ (KPIs)
- **ç³»ç»Ÿå¯ç”¨æ€§**: 99.9%+ ç›®æ ‡
- **å“åº”æ—¶é—´**: åº”ç”¨å“åº” < 2ç§’
- **èµ„æºåˆ©ç”¨ç‡**: CPU < 80%, å†…å­˜ < 85%
- **å­˜å‚¨ä½¿ç”¨**: ç£ç›˜ä½¿ç”¨ < 85%
- **å¤‡ä»½æˆåŠŸç‡**: 99%+ ç›®æ ‡

### ç›‘æ§é˜ˆå€¼æ ‡å‡†
| æŒ‡æ ‡ | è­¦å‘Šé˜ˆå€¼ | ä¸¥é‡é˜ˆå€¼ | ç›‘æ§é¢‘ç‡ |
|------|----------|----------|----------|
| CPUä½¿ç”¨ç‡ | 70% | 85% | 1åˆ†é’Ÿ |
| å†…å­˜ä½¿ç”¨ç‡ | 80% | 90% | 1åˆ†é’Ÿ |
| ç£ç›˜ä½¿ç”¨ç‡ | 80% | 90% | 5åˆ†é’Ÿ |
| ç³»ç»Ÿè´Ÿè½½ | CPUæ•°Ã—1.5 | CPUæ•°Ã—2 | 1åˆ†é’Ÿ |
| ç½‘ç»œå»¶è¿Ÿ | 100ms | 500ms | 30ç§’ |

## ğŸ”’ å®‰å…¨ç®¡ç†è¦ç‚¹

### è®¿é—®æ§åˆ¶
```bash
# sudoé…ç½®ç¤ºä¾‹
cat > /etc/sudoers.d/admin-users << 'EOF'
# ç®¡ç†å‘˜ç»„æƒé™
%wheel ALL=(ALL) ALL

# åº”ç”¨ç®¡ç†æƒé™
%appmanagers ALL=(appuser) NOPASSWD: /bin/systemctl restart myapp
%appmanagers ALL=(appuser) NOPASSWD: /bin/systemctl status myapp

# å¤‡ä»½æƒé™
backupuser ALL=(ALL) NOPASSWD: /usr/bin/rsync, /bin/tar
EOF
```

### å®¡è®¡é…ç½®
```bash
# auditdè§„åˆ™ç¤ºä¾‹
cat > /etc/audit/rules.d/audit.rules << 'EOF'
# ç›‘æ§é‡è¦æ–‡ä»¶ä¿®æ”¹
-w /etc/passwd -p wa -k user-modify
-w /etc/group -p wa -k group-modify
-w /etc/shadow -p wa -k shadow-modify
-w /etc/sudoers -p wa -k sudoers-modify

# ç›‘æ§ç³»ç»Ÿè°ƒç”¨
-a always,exit -F arch=b64 -S adjtimex -S settimeofday -k time-change
-a always,exit -F arch=b64 -S clock_settime -k time-change

# ç›‘æ§ç½‘ç»œé…ç½®
-w /etc/sysconfig/network-scripts/ -p wa -k network-config
EOF
```

## ğŸ“š å‚è€ƒæ–‡æ¡£å’Œèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Systemdæ–‡æ¡£](https://systemd.io/) - ç°ä»£initç³»ç»Ÿ
- [Red Hatæ–‡æ¡£](https://access.redhat.com/documentation/) - ä¼ä¸šçº§æŒ‡å—
- [UbuntuæœåŠ¡å™¨æŒ‡å—](https://ubuntu.com/server/docs) - Ubuntuå®˜æ–¹æ–‡æ¡£

### å·¥å…·æ–‡æ¡£
- [rsyncæ‰‹å†Œ](https://rsync.samba.org/documentation.html) - å¤‡ä»½åŒæ­¥å·¥å…·
- [Ansibleæ–‡æ¡£](https://docs.ansible.com/) - è‡ªåŠ¨åŒ–é…ç½®ç®¡ç†
- [Nagiosæ–‡æ¡£](https://www.nagios.org/documentation/) - ç›‘æ§ç³»ç»Ÿ

### æœ€ä½³å®è·µæŒ‡å—
- [Linuxç³»ç»Ÿç®¡ç†å‘˜æŒ‡å—](https://tldp.org/LDP/sag/html/)
- [CISåŸºå‡†](https://www.cisecurity.org/cis-benchmarks/) - å®‰å…¨é…ç½®åŸºå‡†
- [NISTç½‘ç»œå®‰å…¨æ¡†æ¶](https://www.nist.gov/cyberframework) - å®‰å…¨ç®¡ç†æ¡†æ¶

## ğŸš€ å®æˆ˜ç»ƒä¹ å»ºè®®

### ç¯å¢ƒæ­å»º
1. **è™šæ‹Ÿæœºç¯å¢ƒ** - ä½¿ç”¨VirtualBox/VMwareæ­å»ºæµ‹è¯•ç¯å¢ƒ
2. **å®¹å™¨ç¯å¢ƒ** - ä½¿ç”¨Dockerç»ƒä¹ å®¹å™¨åŒ–éƒ¨ç½²
3. **äº‘ç¯å¢ƒ** - ä½¿ç”¨AWS/Azure/é˜¿é‡Œäº‘ç»ƒä¹ äº‘ç®¡ç†

### å®è·µé¡¹ç›®
1. **WebæœåŠ¡å™¨éƒ¨ç½²** - å®Œæ•´çš„LAMP/LEMPç¯å¢ƒéƒ¨ç½²
2. **ç›‘æ§ç³»ç»Ÿæ­å»º** - ä½¿ç”¨Prometheus+Grafana
3. **å¤‡ä»½ç³»ç»Ÿè®¾è®¡** - å®Œæ•´çš„æ•°æ®ä¿æŠ¤æ–¹æ¡ˆ
4. **è‡ªåŠ¨åŒ–è¿ç»´** - ä½¿ç”¨Ansibleå®ç°é…ç½®ç®¡ç†

---

*å‡†å¤‡æ·±å…¥å­¦ä¹ ç³»ç»Ÿç®¡ç†äº†å—ï¼Ÿä» [ç”¨æˆ·ä¸ç»„ç®¡ç†](user-management.md) å¼€å§‹æ‚¨çš„ç®¡ç†å‘˜ä¹‹è·¯ï¼*
